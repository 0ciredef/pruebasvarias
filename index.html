<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Decisi√≥n importante</title>

<style>
* {
  box-sizing: border-box;
  font-family: system-ui, sans-serif;
  touch-action: none;
}

body {
  margin: 0;
  height: 100dvh;
  background: #111;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.container {
  width: 100%;
  max-width: 390px;
  height: 100%;
  padding: 12px;
  display: flex;
  flex-direction: column;
}

h1 {
  color: white;
  text-align: center;
  font-size: 1.25rem;
  margin: 10px 0;
}

#game {
  flex: 1;
  background: #222;
  border-radius: 18px;
  position: relative;
  overflow: hidden;
}

button {
  border: none;
  border-radius: 14px;
  padding: 14px 18px;
  font-size: 1rem;
  position: absolute;
}

#yes {
  background: #4caf50;
  color: white;
  left: 50%;
  bottom: 70px;
  transform: translateX(-50%);
  z-index: 10;
}

.no {
  background: #f44336;
  color: white;
}

.fake {
  background: #555;
  color: #bbb;
}

#info {
  color: #aaa;
  text-align: center;
  font-size: 0.85rem;
  margin-top: 6px;
}

/* CONFETI */
.confetti {
  position: absolute;
  width: 8px;
  height: 8px;
  animation: fall 3s linear infinite;
}

@keyframes fall {
  from { transform: translateY(-20px) rotate(0deg); }
  to { transform: translateY(110vh) rotate(720deg); }
}
</style>
</head>

<body>
<div class="container">
  <h1>¬øQuieres comprar algunos de los muebles de Bea?</h1>

  <div id="game">
    <button id="yes">S√≠ üíñ</button>
  </div>

  <div id="info">Nivel 1</div>
</div>

<script>
const game = document.getElementById("game");
const yesBtn = document.getElementById("yes");
const info = document.getElementById("info");

let level = 1;
let noBtn;
let moveInterval = null;

/* UTILIDADES */
function clearGame() {
  if (moveInterval) {
    clearInterval(moveInterval);
    moveInterval = null;
  }

  [...game.children].forEach(e => {
    if (e.id !== "yes") e.remove();
  });
}

function place(btn) {
  const maxX = game.clientWidth - btn.offsetWidth;
  const maxY = game.clientHeight - btn.offsetHeight - 100;
  btn.style.left = Math.random() * maxX + "px";
  btn.style.top = Math.random() * maxY + "px";
}

function nextLevel() {
  level++;
  startLevel();
}

/* CONFETI */
function party() {
  clearGame();
  info.textContent = "üéâ OBVIAMENTE DIJISTE QUE S√ç üéâ";
  for (let i = 0; i < 90; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "%";
    c.style.background = `hsl(${Math.random()*360},100%,50%)`;
    c.style.animationDuration = (2 + Math.random()*2) + "s";
    game.appendChild(c);
  }
}

/* NIVELES */

function level1() {
  clearGame();
  info.textContent = "¬øQuieres?";
  noBtn = document.createElement("button");
  noBtn.className = "no";
  noBtn.textContent = "No üôÉ";
  noBtn.style.left = "50%";
  noBtn.style.bottom = "20px";
  noBtn.style.transform = "translateX(-50%)";
  noBtn.onclick = nextLevel;
  game.appendChild(noBtn);
}

function level2() {
  clearGame();
  info.textContent = "Intenta de nuevo";

  let moves = 0;
  const maxMoves = 1; // üîπ AJUSTA ESTO (4‚Äì6 ideal)

  noBtn = document.createElement("button");
  noBtn.className = "no";
  noBtn.textContent = "No üôÉ";
  place(noBtn);

  noBtn.onpointerenter = () => {
    if (moves < maxMoves) {
      moves++;
      place(noBtn);
    }
  };

  noBtn.onclick = nextLevel;

  game.appendChild(noBtn);
}
function level3() {
  clearGame();
  info.textContent = "¬øSeguro que no?";
  for (let i = 0; i < 4; i++) {
    const f = document.createElement("button");
    f.className = "fake";
    f.textContent = "No?";
    place(f);
    f.onclick = () => f.remove();
    game.appendChild(f);
  }
  noBtn = document.createElement("button");
  noBtn.className = "no";
  noBtn.textContent = "No üôÉ";
  place(noBtn);
  noBtn.onclick = nextLevel;
  game.appendChild(noBtn);
}

function level4() {
  clearGame();
  info.textContent = "Cuidado...";

  noBtn = document.createElement("button");
  noBtn.className = "no";
  noBtn.textContent = "No üôÉ";
  place(noBtn);
  noBtn.onclick = nextLevel;
  game.appendChild(noBtn);

  moveInterval = setInterval(() => {
    place(noBtn);
  }, 450); // üëà r√°pido
}


function level5() {
  clearGame();
  info.textContent = "Ten paciencia ‚è≥";

  let active = true;
  let timeoutId = null;

  function spawn() {
    if (!active) return;

    noBtn = document.createElement("button");
    noBtn.className = "no";
    noBtn.textContent = "No üôÉ";
    place(noBtn);
    game.appendChild(noBtn);

    // Movimiento suave mientras est√° visible
    moveInterval = setInterval(() => {
      place(noBtn);
    }, 900);

    noBtn.onclick = () => {
      active = false;
      clearInterval(moveInterval);
      clearTimeout(timeoutId);
      nextLevel();
    };

    // Tiempo visible
    timeoutId = setTimeout(() => {
      clearInterval(moveInterval);
      if (noBtn) noBtn.remove();

      // Tiempo desaparecido (tensi√≥n üòà)
      timeoutId = setTimeout(() => {
        spawn();
      }, 1200); // üëà tiempo oculto
    }, 400); // üëà tiempo visible
  }

  spawn();
}



/* NIVEL 6 ‚Äì EL QUE NO SE MUEVE */
function level6() {
  clearGame();
  info.textContent = "El que NO se mueve üß†";

  const total = 8;
  const buttons = [];
  const staticIndex = Math.floor(Math.random() * total);
  let finished = false;

  let intervalId;

  for (let i = 0; i < total; i++) {
    const b = document.createElement("button");
    b.className = "fake";
    b.textContent = "No";
    place(b);
    buttons.push(b);
    game.appendChild(b);

    b.onclick = () => {
      if (finished) return;

      if (i === staticIndex) {
        finished = true;
        clearInterval(intervalId);

        b.className = "no";
        b.textContent = "No üôÉ";

        setTimeout(() => {
          nextLevel();
        }, 500);
      } else {
        finished = true;
        clearInterval(intervalId);
        level6();
      }
    };
  }

  let moves = 0;
  intervalId = setInterval(() => {
    if (finished) return;

    buttons.forEach((btn, idx) => {
      if (idx !== staticIndex) place(btn);
    });

    moves++;
    if (moves >= 4) clearInterval(intervalId);
  }, 900);
}


/* NIVEL 7 */
function level7() {
  clearGame();
  info.textContent = "Uno es diferente";

  const total = 9;
  const correct = Math.floor(Math.random() * total);

  for (let i = 0; i < total; i++) {
    const b = document.createElement("button");
    b.className = "fake";
    b.textContent = i === correct ? "¬°No!" : "iNo!";
    place(b);
    game.appendChild(b);

    b.onclick = () => {
      if (i === correct) {
        b.className = "no";
        b.textContent = "No üôÉ";
        b.onclick = nextLevel;
      } else level7();
    };
  }
}

/* NIVEL 8 */
function level8() {
  clearGame();
  info.textContent = "Espera‚Ä¶";

  const total = 7;
  const delayed = Math.floor(Math.random() * total);

  for (let i = 0; i < total; i++) {
    const b = document.createElement("button");
    b.className = "fake";
    b.textContent = "No";
    place(b);
    game.appendChild(b);

    b.onclick = () => {
      if (i === delayed) {
        b.className = "no";
        b.textContent = "No üôÉ";
        b.onclick = nextLevel;
      } else level8();
    };

    setTimeout(() => {
      setInterval(() => place(b), 1200);
    }, i === delayed ? 2000 : 0);
  }
}

/* NIVEL 9 */
function level9() {
  clearGame();
  info.textContent = "El orden importa üß†";

  let step = 0;

  // Colores ordenados de fr√≠o ‚Üí c√°lido (orden correcto)
  const colors = [
    "#2196f3", // azul
    "#03a9f4",
    "#4caf50", // verde
    "#8bc34a",
    "#ffeb3b", // amarillo
    "#ff9800", // naranja
    "#ff5722",
    "#f44336"  // rojo
  ];

  // Mezclamos para que no est√©n en orden
  const shuffled = [...colors].sort(() => Math.random() - 0.5);

  shuffled.forEach(color => {
    const b = document.createElement("button");
    b.textContent = "No";
    b.className = "fake";
    b.style.background = color;
    b.style.color = "#000";
    b.style.fontWeight = "600";

    place(b);
    game.appendChild(b);

    b.onclick = () => {
      // Si el color es el correcto en el orden
      if (color === colors[step]) {
        b.textContent = "‚úì";
        b.disabled = true;
        b.style.background = "#333";
        b.style.color = "#fff";
        step++;

        if (step === colors.length) {
          unlockFinalNo();
        }
      } else {
        // Fallo ‚Üí reinicio
        level9();
      }
    };
  });

  function unlockFinalNo() {
    clearGame();
    info.textContent = "Ahora s√≠‚Ä¶ üòà";

    const finalNo = document.createElement("button");
    finalNo.className = "no";
    finalNo.textContent = "No üôÉ";
    finalNo.style.left = "50%";
    finalNo.style.top = "50%";
    finalNo.style.transform = "translate(-50%, -50%)";
    finalNo.onclick = nextLevel;

    game.appendChild(finalNo);
  }
}


/* NIVEL 10 ‚Äì FINAL */
/* NIVEL 10 ‚Äì QUI√âN QUIERE SER MILLONARIO (FIX REAL) */
function level10() {
  clearGame();
  info.textContent = "Pero primero.. demuestra que mereces el NO üß†";

  const questions = [
  // üü¢ F√ÅCILES
  {
    q: "¬øCu√°l es el planeta m√°s grande del sistema solar?",
    options: ["Marte", "J√∫piter", "Saturno", "Neptuno"],
    correct: 1
  },
  {
    q: "¬øCapital de Canad√°?",
    options: ["Toronto", "Vancouver", "Montreal", "Ottawa"],
    correct: 3
  },

  // üü° MEDIA
  {
    q: "¬øEn qu√© a√±o cay√≥ el Muro de Berl√≠n?",
    options: ["1985", "1987", "1989", "1991"],
    correct: 2
  },
  {
    q: "¬øQu√© elemento qu√≠mico tiene s√≠mbolo Au?",
    options: ["Plata", "Oro", "Cobre", "Hierro"],
    correct: 1
  },
  {
    q: "¬øQui√©n escribi√≥ 'Los Demonios'?",
    options: ["Alexandre Dumas", "Ernest Hemingway", "Fyodor Dostoevsky", "Vargas Llosa"],
    correct: 2
  },

  // üî¥ DIF√çCILES (nuevas)
  {
    q: "¬øCu√°l de estos pa√≠ses NO form√≥ parte de la URSS?",
    options: ["Lituania", "Georgia", "Polonia", "Ucrania"],
    correct: 2
  },
  {
    q: "¬øQu√© fil√≥sofo escribi√≥ 'As√≠ habl√≥ Zaratustra'?",
    options: ["Kant", "Nietzsche", "Hegel", "Schopenhauer"],
    correct: 1
  },
  {
    q: "¬øQu√© cient√≠fico formul√≥ las leyes del movimiento y la gravitaci√≥n universal?",
    options: ["Einstein", "Galileo", "Newton", "Kepler"],
    correct: 2
  }
];


  let current = 0;

  /* ------------------ QUI√âN QUIERE SER MILLONARIO ------------------ */

  function renderQuestion() {
    clearGame();
    info.textContent = `Pero antes... ‚Äì Pregunta ${current + 1} de 8`;

    const wrapper = document.createElement("div");
    wrapper.style.position = "absolute";
    wrapper.style.left = "50%";
    wrapper.style.top = "35%";
    wrapper.style.transform = "translate(-50%, -50%)";
    wrapper.style.width = "92%";
    wrapper.style.maxWidth = "360px";
    wrapper.style.display = "flex";
    wrapper.style.flexDirection = "column";
    wrapper.style.gap = "12px";

    const qBox = document.createElement("div");
    qBox.textContent = questions[current].q;
    qBox.style.background = "#222";
    qBox.style.color = "#fff";
    qBox.style.padding = "16px";
    qBox.style.borderRadius = "14px";
    qBox.style.textAlign = "center";
    wrapper.appendChild(qBox);

    questions[current].options.forEach((opt, i) => {
      const b = document.createElement("button");
      b.className = "fake";
      b.textContent = opt;
      b.style.position = "static";
      b.style.width = "100%";

      b.onpointerdown = () => {
        if (i === questions[current].correct) {
          current++;
          current === questions.length ? unlockDVD() : renderQuestion();
        } else {
          current = 0;
          renderQuestion();
        }
      };

      wrapper.appendChild(b);
    });

    game.appendChild(wrapper);
  }

  /* ------------------ DVD FINAL ------------------ */

  function unlockDVD() {
    clearGame();
    info.textContent = "Atr√°palo‚Ä¶ üòà";

    const btn = document.createElement("button");
    btn.textContent = "No üôÉ";
    btn.className = "no";
    btn.style.position = "absolute";
    game.appendChild(btn);

    // Congelar tama√±o
    const w = btn.offsetWidth;
    const h = btn.offsetHeight;
    btn.style.width = w + "px";
    btn.style.height = h + "px";

    let x = Math.random() * (game.clientWidth - w);
    let y = Math.random() * (game.clientHeight - h);

    let vx = 8;
    let vy = 9;

    let isYes = false;
    let running = true;

    function setState(yes) {
      isYes = yes;
      if (yes) {
        btn.id = "yes";
        btn.className = "";
        btn.textContent = "S√≠ üíñ";
      } else {
        btn.id = "";
        btn.className = "no";
        btn.textContent = "No üôÉ";
      }
    }

    setState(false);

    function move() {
      if (!running) return;

      x += vx;
      y += vy;

      const maxX = game.clientWidth - w;
      const maxY = game.clientHeight - h;

      let bounced = false;

      if (x <= 0 || x >= maxX) {
        vx *= -1;
        x = Math.max(0, Math.min(x, maxX));
        bounced = true;
      }

      if (y <= 0 || y >= maxY) {
        vy *= -1;
        y = Math.max(0, Math.min(y, maxY));
        bounced = true;
      }

      if (bounced) setState(!isYes);

      btn.style.left = x + "px";
      btn.style.top = y + "px";

      requestAnimationFrame(move);
    }

    move();

    /* ------------------ INTERACCI√ìN FINAL ------------------ */

    btn.onpointerdown = (e) => {
      e.preventDefault();
      e.stopPropagation();

      // üëâ Si era NO, se convierte en S√ç (como tocar borde)
      if (!isYes) {
        setState(true);
        return;
      }

      // üëâ Si era S√ç, se acepta de una vez
      running = false;
      party();
    };
  }

  renderQuestion();
}



function startLevel() {
  if (level === 1) level1();
  else if (level === 2) level2();
  else if (level === 3) level3();
  else if (level === 4) level4();
  else if (level === 5) level5();
  else if (level === 6) level6();
  else if (level === 7) level7();
  else if (level === 8) level8();
  else if (level === 9) level9();
  else level10();
}

yesBtn.onclick = party;
startLevel();
</script>
</body>
</html>
