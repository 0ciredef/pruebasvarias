<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Decisi√≥n Importante</title>

<style>
* {
  box-sizing: border-box;
  font-family: system-ui, sans-serif;
  touch-action: manipulation;
}

body {
  margin: 0;
  height: 100dvh;
  background: #111;
  overflow: hidden;
}

.screen {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

h1 {
  color: white;
  text-align: center;
  padding: 10px;
  font-size: 1.4rem;
}

#game {
  width: 92%;
  max-width: 400px;
  height: 60dvh;
  background: #222;
  border-radius: 16px;
  position: relative;
  overflow: hidden;
}

button {
  border: none;
  border-radius: 12px;
  padding: 14px 18px;
  font-size: 1rem;
  user-select: none;
  position: absolute;
}

#yes {
  background: #4caf50;
  color: white;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
}

.no {
  background: #f44336;
  color: white;
}

.fake {
  background: #555;
  color: #aaa;
}

#info {
  color: #aaa;
  font-size: 0.85rem;
  margin-top: 6px;
}

/* Fiesta */
.party {
  background: linear-gradient(135deg, #ff0080, #00c3ff);
  animation: partyBg 1s infinite alternate;
}

@keyframes partyBg {
  from { filter: hue-rotate(0deg); }
  to { filter: hue-rotate(360deg); }
}

.confetti {
  position: absolute;
  width: 8px;
  height: 8px;
  background: red;
  animation: fall 3s linear infinite;
}

@keyframes fall {
  from { transform: translateY(-10vh) rotate(0deg); }
  to { transform: translateY(110vh) rotate(720deg); }
}
</style>
</head>

<body>

<div id="main" class="screen">
  <h1>¬øQuieres ver a Fede el 7 de febrero?</h1>

  <div id="game">
    <button id="yes">S√≠ üíñ</button>
    <button id="no" class="no">No üôÉ</button>
  </div>

  <div id="info">Nivel 1</div>
</div>

<script>
const game = document.getElementById("game");
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const info = document.getElementById("info");
const main = document.getElementById("main");

let level = 1;

/* UTILIDADES */
function bounds(el) {
  return {
    maxX: game.clientWidth - el.offsetWidth,
    maxY: game.clientHeight - el.offsetHeight - 60
  };
}

function randomPos(el) {
  const { maxX, maxY } = bounds(el);
  el.style.left = Math.random() * maxX + "px";
  el.style.top = Math.random() * maxY + "px";
}

function vibrate() {
  navigator.vibrate && navigator.vibrate(40);
}

function clearExtras() {
  [...game.querySelectorAll(".fake,.player,.goal")].forEach(e => e.remove());
}

/* NIVELES */
noBtn.addEventListener("pointerdown", () => {
  vibrate();
  level++;
  info.textContent = "Nivel " + level;
  clearExtras();

  if (level === 2) {
    noBtn.textContent = "¬øSeguro?";
  }

  if (level === 3) {
    noBtn.addEventListener("pointerenter", () => randomPos(noBtn));
  }

  if (level === 4) {
    setInterval(() => randomPos(noBtn), 900);
  }

  if (level === 5) {
    noBtn.style.fontSize = "0.7rem";
  }

  if (level === 6) puertas();
  if (level === 7) secuencia();
  if (level === 8) tiempo();
  if (level >= 9) laberinto();
});

/* NIVEL 6 */
function puertas() {
  noBtn.style.display = "none";
  info.textContent = "Nivel 6 ‚Äì Encuentra el verdadero";

  let count = 0;
  for (let i = 0; i < 4; i++) {
    const b = document.createElement("button");
    b.className = "fake";
    b.textContent = "¬øNO?";
    randomPos(b);
    b.addEventListener("pointerdown", () => {
      vibrate();
      b.remove();
      count++;
      if (count === 3) {
        noBtn.style.display = "block";
        randomPos(noBtn);
      }
    });
    game.appendChild(b);
  }
}

/* NIVEL 7 */
function secuencia() {
  noBtn.style.display = "none";
  info.textContent = "Nivel 7 ‚Äì En orden";
  let step = 1;

  for (let i = 1; i <= 3; i++) {
    const b = document.createElement("button");
    b.className = "fake";
    b.textContent = i;
    randomPos(b);
    b.addEventListener("pointerdown", () => {
      if (i === step) {
        b.remove();
        step++;
        vibrate();
        if (step === 4) {
          noBtn.style.display = "block";
          randomPos(noBtn);
        }
      } else {
        secuencia();
      }
    });
    game.appendChild(b);
  }
}

/* NIVEL 8 */
function tiempo() {
  noBtn.style.display = "none";
  info.textContent = "Nivel 8 ‚Äì R√°pido";

  setTimeout(() => {
    noBtn.style.display = "block";
    randomPos(noBtn);
    setTimeout(() => {
      if (level === 8) tiempo();
    }, 900);
  }, 600);
}

/* NIVEL FINAL ‚Äì LABERINTO */
function laberinto() {
  clearExtras();
  noBtn.style.display = "none";
  info.textContent = "Nivel ‚àû ‚Äì Llega al NO";

  const player = document.createElement("div");
  player.className = "player";
  player.style.width = "20px";
  player.style.height = "20px";
  player.style.background = "#4caf50";
  player.style.borderRadius = "50%";
  player.style.position = "absolute";
  player.style.left = "10px";
  player.style.top = "10px";

  const goal = document.createElement("button");
  goal.className = "goal no";
  goal.textContent = "NO";
  goal.style.right = "10px";
  goal.style.bottom = "70px";

  game.appendChild(player);
  game.appendChild(goal);

  game.addEventListener("pointermove", e => {
    const rect = game.getBoundingClientRect();
    player.style.left = e.clientX - rect.left + "px";
    player.style.top = e.clientY - rect.top + "px";
  });

  goal.addEventListener("pointerdown", () => {
    level++;
    laberinto();
  });
}

/* S√ç ‚Üí FIESTA */
yesBtn.addEventListener("pointerdown", () => {
  main.classList.add("party");
  for (let i = 0; i < 80; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "vw";
    c.style.background = `hsl(${Math.random()*360},100%,50%)`;
    c.style.animationDuration = 2 + Math.random() * 3 + "s";
    document.body.appendChild(c);
  }
  setTimeout(() => {
    alert("Sab√≠a que dir√≠as que S√ç üíñüéâ");
  }, 800);
});

/* INICIO */
noBtn.style.top = "60%";
noBtn.style.left = "50%";
noBtn.style.transform = "translateX(-50%)";
</script>

</body>
</html>
